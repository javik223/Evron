$(document).ready(function(){function e(e){this.options={elem:$(".account-login")},this.options.elemOverlay=this.options.elem.find(".overlay"),this.options.overlayBtn=this.options.elem.find(".overlayBtn");var n=this;n.overlayVisible=!1,$.extend(this.options,e),console.log(this.options);var o=function(){var e=n.options.elemOverlay.data("height");n.overlayVisible=!0,TweenMax.to(n.options.elemOverlay,.6,{height:e,force3D:!0,onComplete:function(){}})},t=function(){n.overlayVisible=!1,TweenMax.to(n.options.elemOverlay,.3,{height:0,force3D:!0,onComplete:function(){}})},a=function(){return n.options.elemOverlay.data("height")||(n.options.elemOverlay.css("display","block"),n.options.elemOverlay.data("height",n.options.elemOverlay.height()),n.options.elemOverlay.css("height",0)),n.options.elemOverlay.data("height")},i=function(){a(),n.options.overlayBtn.on("click",function(){n.overlayVisible===!1?o():t()})};i()}var n=n||{};n.SideMenu=function(){var e=$(".secondary-menu"),n=this,o=$("body"),t=$("html"),a=$(".side-menu").find(".dropdown");if(!(e.length<=0)){var i=function(){a.on("mouseenter",function(){s($(this))}).on("mouseleave",function(){l($(this))}),a.children("a").on("click",function(e){e.preventDefault()})},r=function(e){var n=parseInt(o.scrollTop()),a=parseInt(t.get(0).clientHeight),i=parseInt(e.parent().offset().top),r=e.height(),s=i-n;e.css("margin-top",0),console.log(s+r>a);var l=s+r>a?!0:!1;l===!1?e.css("margin-top",0):e.css("margin-top",-.5*s)},s=function(e){var n=e,o=n.find("ul");TweenMax.set(o,{display:"block",autoAlpha:0,xPercent:"-10%"}),TweenMax.to(o,.3,{autoAlpha:1,xPercent:"0%"}),r(o)},l=function(e){var n=e,o=n.find("ul");TweenMax.to(o,.3,{autoAlpha:0,xPercent:"-10%",onComplete:function(){TweenMax.to(o,.1,{display:"none"})}})};i()}}(),n.nav=function(){var e=$(".nav"),n=$(".menu-wrapper"),o=new TimelineMax({yoyo:!0,paused:!0});o.set(e,{display:"block",autoAlpha:0,yPercent:"-10%"}).to(e,1,{autoAlpha:1,yPercent:"0%",ease:Expo.easeInOut});var t=function(){n.on("mouseenter",function(){a()}).on("mouseleave",function(){i()})},a=function(){o.play()},i=function(){o.reverse()};t()}();var o=new e,t=$(".mini-cart"),a=new e({elem:t,overlayBtn:t.find(".mini-cart_icon"),elemOverlay:t.find(".mini-cart_overlay")});n.repositionTopMenu=function(){var e=$(".header"),n=e.find(".menu-wrapper"),o=e.find(".nav"),t=parseInt(n.height()+parseInt(e.css("padding-bottom"))),a=$(".secondary-menu").length>0?$(".secondary-menu"):e.width()/4;"Smartphone"===WURFL.form_factor&&(a=e.width()),o.css({top:t,width:a})}();var i=$(".featured-categories").find(".owl-carousel"),r=$(".main-banner");r.owlCarousel({items:1}),WURFL.is_mobile&&"Desktop"!==WURFL.form_factor?i.owlCarousel({lazyLoad:!0,center:!0,loop:!0,dots:!0,animateOut:!0,itemElement:"a",animateIn:!0,responsive:{margin:0,center:!1,0:{items:2,margin:0,center:!1},600:{items:3,center:!1},1e3:{items:5,center:!1}}}):i.removeClass("owl-carousel"),$(".promotion-carousel").owlCarousel({lazyLoad:!0,margin:10,center:!0,loop:!0,autoplay:!0,autoplayHoverPause:!0,smartSpeed:500,fluidSpeed:500,responsiveRefreshRate:10,animateIn:!0,animateOut:!0,responsive:{0:{stagePadding:0,items:2,margin:0,center:!1},600:{items:2,center:!1,stagePadding:0},1e3:{items:3}}});var s=$(".mobile-search-icon"),l=$(".search_wrapper");s.on("click",function(){l.toggleClass("s-hide")}),$(".header").stickyNavbar({animDuration:250,animateCSS:!0,stickyModeClass:"sticky",mobile:!0});var c=$(".newsletterForm");c.on("submit",function(e){var n=$(this),o=n.attr("action"),t=n.serialize();$.ajax({url:o,data:t,dataType:"json",method:"POST",beforeSend:function(){n.find('input[name="submit"]').val("Adding...")}}).done(function(e){console.log(e)}).complete(function(){n.find('input[name="submit"]').val("Signup")}),e.preventDefault()})});