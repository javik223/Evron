jQuery(document).ready(function($){function e(e,t){this.options={elem:$(".account-login"),btnRaw:".overlayBtn"},this.options.elemOverlay=this.options.elem.find(".overlay"),this.options.overlayBtn=this.options.elem.find(".overlayBtn");var a=this;a.overlayVisible=!1,$.extend(this.options,e);var n=function(){"function"==typeof t&&t();var e=a.options.elemOverlay.data("height");a.overlayVisible=!0,TweenMax.to(a.options.elemOverlay,.6,{height:e,force3D:!0,onComplete:function(){}}),setTimeout(function(){a.overlayVisible===!0&&$("body").on("click",function(e){console.log("elemOverlay: ",a.options.elemOverlay),console.log("targetElement: ",e.target),e.target==a.options.elemOverlay||a.options.elemOverlay.has(e.target).length||(o(),$("body").off())})},200)},o=function(){a.overlayVisible=!1,TweenMax.to(a.options.elemOverlay,.3,{height:0,force3D:!0,onComplete:function(){}})},i=function(){return a.options.elemOverlay.data("height")||(a.options.elemOverlay.css("display","block"),a.options.elemOverlay.data("height",a.options.elemOverlay.height()),a.options.elemOverlay.css("height",0)),a.options.elemOverlay.data("height")},r=function(){i(),a.options.overlayBtn.on("click",function(){a.overlayVisible===!1?n():o()})};r()}function t(){"Desktop"===WURFL.form_factor&&WURFL.is_mobile===!1&&$(".contact-other-details").length>0&&$(".contact-physical-store").css({height:$(".contact-physical-store").parent().height()})}function a(e){var t=e,a=t.find("h4"),n=t.find(">div");a.on("click",function(){$(this).next().slideToggle(600),$(this).parent().toggleClass("open"),setTimeout(function(){o()},600)})}function n(e,t){y.hide(),console.log(e),y.parent().find(""+e).show("slow"),g.removeClass("active"),t.parent().addClass("active"),setTimeout(function(){o()},600)}function o(){"Desktop"!==WURFL.form_factor&&"Tablet"!==WURFL.form_factor||WURFL.is_mobile!==!1||$(".faq .answers").outerHeight()>w&&$(".faq .questions").animate({height:$(".faq .answers").outerHeight()},300)}var i=i||{};i.SideMenu=function(){var e=$(".side-menu"),t=this,a=$("body"),n=$("html"),o=e.find(".dropdown");if(!(e.length<=0)){var i=function(){o.on("mouseenter",function(){s($(this))}).on("mouseleave",function(){l($(this))}),o.find(">a").on("click",function(e){var t=$(this).parent();"block"===t.find("ul").css("display")?l(t):s(t),e.preventDefault()})},r=function(e){var t=parseInt(a.scrollTop()),o=parseInt(n.get(0).clientHeight),i=parseInt(e.parent().offset().top),r=e.height(),s=i-t;e.css("margin-top",0);var l=s+r>o?!0:!1;l===!1?e.css("margin-top",0):e.css("margin-top",-.5*s)},s=function(e){var t=e,a=t.find("ul");r(a),TweenMax.set(a,{display:"block",autoAlpha:0,xPercent:"-10%"}),TweenMax.to(a,.3,{autoAlpha:1,xPercent:"0%"})},l=function(e){var t=e,a=t.find("ul");TweenMax.to(a,.3,{autoAlpha:0,xPercent:"-10%",onComplete:function(){TweenMax.to(a,.1,{display:"none"})}})};i()}}(),i.nav=function(){var e=$(".nav"),t=$(".menu-wrapper"),a=new TimelineMax({yoyo:!0,paused:!0}),n=!1;a.set(e,{display:"block",autoAlpha:0,yPercent:"-10%"}).to(e,1,{autoAlpha:1,yPercent:"0%",ease:Expo.easeInOut});var o=function(){t.on("click",function(){n===!1?i():r()}),WURFL.is_mobile||t.on("mouseover",function(){i()}),e.on("mouseleave",function(){r()})},i=function(){a.play(),n=!0,setTimeout(function(){n===!0&&$("body").on("click",function(t){t.target==e||e.has(t.target).length||(r(),$("body").off())})},200)},r=function(){a.reverse(),n=!1};o()}();var r=$(".account-login"),s=new e({elem:r,overlayBtn:r.find(".overlayBtn"),elemOverlay:r.find(".overlay")}),l=$(".mini-cart"),c=new e({elem:l,overlayBtn:l.find(".mini-cart_icon"),elemOverlay:l.find(".mini-cart_overlay")},function(){l.find(".mini-cart_overlay").data("height",1e3)});i.repositionTopMenu=function(){var e=$(".header"),t=e.find(".menu-wrapper"),a=e.find(".nav"),n=parseInt(t.height()+parseInt(e.css("padding-bottom"))),o=$(".secondary-menu").length>0?$(".secondary-menu"):e.width()/4;"Smartphone"===WURFL.form_factor&&(o=e.width())}(),i.resizeMenu=function(){var e=$(".header"),t=e.find(".nav");winHeight=$(window).height(),availableHeight=parseInt(winHeight-e.outerHeight()),console.log(availableHeight),t.css({"max-height":availableHeight+"px"})}();var u=$(".featured-categories").find(".owl-carousel"),f=$(".main-banner");f.owlCarousel({items:1}),WURFL.is_mobile&&"Desktop"!==WURFL.form_factor?u.owlCarousel({lazyLoad:!0,center:!0,loop:!0,dots:!0,animateOut:!0,itemElement:"a",animateIn:!0,responsive:{0:{items:2,margin:0,center:!0,loop:!1},600:{items:3,center:!1},1e3:{items:5,center:!1}}}):u.removeClass("owl-carousel"),$(".promotion-carousel").owlCarousel({lazyLoad:!0,center:!0,autoplay:!1,autoplayHoverPause:!0,smartSpeed:500,fluidSpeed:500,responsiveRefreshRate:10,animateIn:!0,animateOut:!0,dots:!0,responsive:{0:{stagePadding:0,items:1,margin:0,center:!0},600:{items:2,center:!1,stagePadding:0}}});var h=$(".mobile-search-icon"),d=$(".search_wrapper");d.isVisible=!1,h.on("click",function(){d.isVisible===!1?(d.isVisible=!0,d.removeClass("s-hide"),TweenMax.set(d,{display:"block",autoAlpha:1}),TweenMax.from(d,2,{autoAlpha:0,yPercent:"-20%",ease:Expo.easeOut}),d.find("#search").focus()):TweenMax.to(d,.4,{autoAlpha:0,yPercent:"0%",ease:Expo.easeOut,onComplete:function(){d.addClass("s-hide"),d.isVisible=!1}})}),$(".header").stickyNavbar({animDuration:350,animateCSS:!0,stickyModeClass:"sticky",mobile:!0,zindex:500});var p=$(".newsletterForm");p.on("submit",function(e){var t=$(this),a=t.attr("action"),a=a.replace("newsletter/subscriber/new","newsletter/subscriber/newAjax");data=t.serialize(),$.ajax({url:a,data:data,dataType:"json",method:"POST",beforeSend:function(){t.find('input[name="submit"]').val("...")}}).done(function(e){var t=$(".newsletter-message-box");t.find("p").text(e.message),TweenMax.set(t,{display:"block",autoAlpha:0,yPercent:"30%"}),TweenMax.to(t,1,{autoAlpha:1,yPercent:"0%",ease:Elastic.easeOut}),setTimeout(function(){TweenMax.to(t,1,{autoAlpha:0,yPercent:"30%",ease:Elastic.easeIn})},5e3)}).complete(function(){t.find('input[name="submit"]').val("Signup")}),e.preventDefault()}),$(".newsletter-message-box").find(".closeBtn").on("click",function(){var e=$(this).parent();TweenMax.to(e,1,{autoAlpha:0,yPercent:"30%",ease:Elastic.easeIn})}),$.fn.product=function(){function e(){return y.attr("data-newvalue",parseInt(p.val())),t()}function t(){return y.attr("data-newvalue")}function a(){y.attr("data-oldvalue",parseInt(p.val()))}function n(){return y.attr("data-oldvalue")}function o(e){return e&&parseInt(e)>0?e:1}function i(e){var t={subtract:0,qty:1};$.extend(t,e);for(var a=y.serializeArray(),n=0;n<a.length;n++)"qty"===a[n].name&&(t.qty?a[n].value=t.qty:a[n].value=0);return a.push({name:"isAjax",value:1}),a.push({name:"fromList",value:1}),parseInt(y.attr("updateid"))>0&&a.push({name:"updateid",value:y.attr("updateid")}),1===t.subtract&&a.push({name:"subtract",value:1}),$.param(a)}function r(){var e=T.qty;return console.log(e),0===e?void clearInterval(startProcessing):(s(e>0?i({qty:e}):i({qty:Math.abs(e),subtract:1})),void(T.qty=0))}function s(e){var t=y.attr("action"),a=parseInt(y.find(".product_qty").val());t=t.replace("checkout/cart","ajax/index"),$.ajax({url:t,dataType:"json",type:"get",data:e,success:function(e){c(e),y.attr("data-added",!0),y.attr("data-lastvalue",a),e.updateId&&y.attr("updateid",e.updateId)}}),console.log(T),$.when.apply($,T)}function l(){var e=y.attr("action"),t=y.attr("data-update-url");e=t;var a=y.serialize();a+="&isAjax=1";try{$.ajax({url:e,dataType:"json",type:"post",data:a,success:function(e){}})}catch(n){}}function c(e){$(".mini-cart")&&($(".mini-cart").find(".minicart-count").html($(e.sidebar).find(".minicart-count").html()),$(".mini-cart").find(".mini-cart_overlay").html($(e.sidebar).find(".mini-cart_overlay").html()))}var u=this.find(".icon-add-cart"),f=this.find(".icon-remove"),h=this.find(".icon-add"),d=this.find(".product_form"),p=this.find(".product_qty"),v=this.find(".product_options"),m=this.find(".product_add-cart"),y=this.find("form"),g=function(){TweenMax.to(d,.1,{xPercent:"10%",autoAlpha:0}),TweenMax.to(m,.3,{yPercent:"0%",autoAlpha:1}),v.length>0&&TweenMax.to(v,.6,{autoAlpha:0})},w=function(){TweenMax.to(m,.1,{yPercent:"10%",autoAlpha:0}),TweenMax.fromTo(d,.3,{xPercent:"10%",autoAlpha:0},{xPercent:"0%",autoAlpha:1}),v.length>0&&TweenMax.to(v,.6,{autoAlpha:1})},b=function(){(0===parseInt(p.val())||""===p.val())&&p.val(1),p.val(parseInt(p.val())+1)},x=function(){1===parseInt(p.val())?(g(),setTimeout(function(){p.val(0)},300)):parseInt(p.val())>0&&p.val(parseInt(p.val())-1)};f.on("click",function(){x(),startProcessing&&clearInterval(startProcessing),T.qty-=1,startProcessing=setInterval(r,500)}),h.on("click",function(){startProcessing&&clearInterval(startProcessing),b(),T.qty+=1,startProcessing=setInterval(r,500)}),u.on("click",function(){T.qty+=1,p.val(1),startProcessing=r(),w()}),p.on("change",function(){(parseInt($(this).val())<=0||parseInt($(this).val())<=1||""===$(this).val())&&g();var t=e(),a=n(),o=t-a;if(o>0)var r=i({qty:o});else{o=Math.abs(o);var r=i({qty:o,subtract:1})}s(r)}),p.on("focus keydown",function(){a()});var T={qty:0};return y.on("submit",function(){return!1}),this},$(".product").each(function(){$(this).product()}),$(".contact-physical-store").length>0&&$(window).on("resize",t),t();var v=$(".faq"),m=$(".faq .answer li"),y=v.find(".answers-tab"),g=v.find("li");m.length>0&&m.each(function(){var e=$(this);a(e)}),v.length>0&&(y.hide(),y.first().show()),g.find("a").each(function(){$(this).on("click",function(e){var t=$(this).attr("href");n(t,$(this)),e.preventDefault()})});var w=$(".faq .questions").height();$(".faq").length>0&&o()});var touch=window.ontouchstart||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0;if(touch)try{for(var si in document.styleSheets){var styleSheet=document.styleSheets[si];if(styleSheet.rules)for(var ri=styleSheet.rules.length-1;ri>=0;ri--)styleSheet.rules[ri].selectorText&&styleSheet.rules[ri].selectorText.match(":hover")&&styleSheet.deleteRule(ri)}}catch(ex){}